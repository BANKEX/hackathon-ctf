<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../assets/img/favicon-32x32.png">
  <title>CTF</title>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="../assets/bootstrap/boostrap.min.css">
</head>


<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">
    <img src="../assets/img/CTF2.png" height="40">
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div style="color: #1e0010; font-weight: 700; font-size: 20px;" class="collapse navbar-collapse"
       id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="#">Tasks:</a>
      <a class="nav-item nav-link" href="tasks1.html">1</a>
      <a class="nav-item nav-link" href="tasks2.html">2</a>
      <a class="nav-item nav-link active" href="#">3<span class="sr-only">(current)</span></a>
      <a class="nav-item nav-link" href="tasks4.html">4</a>
      <a class="nav-item nav-link" href="tasks5.html">5</a>
      <a style="color: red;" class="nav-item nav-link" href="help.html">Help</a>
      <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="leaderboard.html">Leaderboard</a>
      <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="prize.html">WINNERS</a>
      <a style="color: black; float: right" class="nav-item nav-link" id="teamName"></a>
    </div>
  </div>
</nav>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <p style="margin-top: 5%; font-size: 69px !important; color: #1e0010; font-weight: 700;">Task 3: Dividends</p>
      <div class="btns text-center">
        <button type="submit" class="btn btn-success btn-md" style="font-size: 20px;" id="taskDeploy">
          <i class="fa fa-user-plus"></i> Deploy to network
        </button>
        <button type="submit" class="btn btn-warning btn-md" style="font-size: 20px;" id="taskCheck">
          <i class="fa fa-user-plus"></i>Send solution
        </button>

        <!-- если уже решено-->

        <button type="submit" class="btn btn-danger disabled btn-md" style="font-size: 20px;" id="taskSolved">
          <i class="fa fa-user-plus"></i>Solved
        </button>

      </div>

      <br>
      <br>
      <br>
      <br>
      <h1>@About</h1>

      <blockquote style="font-size: 40px " class="blockquote">
        <p style="font-size: 25px " class="mb-0">Something just went wrong...</p>
        <hr>
        <h1>@Task</h1>

        <p style="font-size: 25px " class="mb-0">contract_status == true;</p>

        <br>
        <footer style="font-size: 30px " class="blockquote-footer">Your smart contract is at
          <cite style="font-weight: 900; color: #1e0010" title="Source Title"
                id="taskAddress">0ceqiccnoijwncoiwncoiwncb</cite> on <strong style="font-weight: 900; color: #1e0010">Rinkeby</strong>
          network
        </footer>
        <div>
          <!-- Target --><textarea style="display: none" id="foo">
pragma solidity ^0.4.24;

/**
 * @title ERC20Basic
 * @dev Simpler version of ERC20 interface
 * @dev see https://github.com/ethereum/EIPs/issues/179
 */
contract ERC20Basic {
  uint256 public MintSupply;
  uint256 public TotalSupply;
  uint256 public circulationSupply;
  function balanceOf(address who) public constant returns (uint256);
  function transfer(address to, uint256 value) public returns (bool);
  event Transfer(address indexed from, address indexed to, uint256 value);
}

/**
 * @title ERC20 interface
 * @dev see https://github.com/ethereum/EIPs/issues/20
 */
contract ERC20 is ERC20Basic {
  function allowance(address owner, address spender) public constant returns (uint256);
  function transferFrom(address from, address to, uint256 value) public returns (bool);
  function approve(address spender, uint256 value) public returns (bool);
  event Approval(address indexed owner, address indexed spender, uint256 value);
}

/**
 * @title Basic token
 * @dev Basic version of StandardToken, with no allowances.
 */
contract BasicToken is ERC20Basic {

  mapping(address => uint256) balances;

  /**
  * @dev transfer token for a specified address
  * @param _to The address to transfer to.
  * @param _value The amount to be transferred.
  */
  function transfer(address _to, uint256 _value) public returns (bool) {
    balances[msg.sender] = balances[msg.sender] - (_value);
    balances[_to] = balances[_to] + (_value);
    emit Transfer(msg.sender, _to, _value);
    return true;
  }

  /**
  * @dev Gets the balance of the specified address.
  * @param _owner The address to query the the balance of.
  * @return An uint256 representing the amount owned by the passed address.
  */
  function balanceOf(address _owner) public constant returns (uint256 balance) {
    return balances[_owner];
  }

}

/**
 * @title Standard ERC20 token
 *
 * @dev Implementation of the basic standard token.
 * @dev https://github.com/ethereum/EIPs/issues/20
 * @dev Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol
 */
contract StandardToken is ERC20, BasicToken {

  mapping (address => mapping (address => uint256)) allowed;


  /**
   * @dev Transfer tokens from one address to another
   * @param _from address The address which you want to send tokens from
   * @param _to address The address which you want to transfer to
   * @param _value uint256 the amout of tokens to be transfered
   */
  function transferFrom(address _from, address _to, uint256 _value) public returns (bool) {
    uint256 _allowance;
    _allowance = allowed[_from][msg.sender];

    // Check is not needed because sub(_allowance, _value) will already throw if this condition is not met
    // require (_value <= _allowance);

    balances[_to] = balances[_to] + (_value);
    balances[_from] = balances[_from] - (_value);
    allowed[_from][msg.sender] = _allowance - (_value);
    emit Transfer(_from, _to, _value);
    return true;
  }

  /**
   * @dev Aprove the passed address to spend the specified amount of tokens on behalf of msg.sender.
   * @param _spender The address which will spend the funds.
   * @param _value The amount of tokens to be spent.
   */
  function approve(address _spender, uint256 _value) public returns (bool) {

    // To change the approve amount you first have to reduce the addresses`
    //  allowance to zero by calling `approve(_spender, 0)` if it is not
    //  already 0 to mitigate the race condition described here:
    //  https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
    require((_value == 0) || (allowed[msg.sender][_spender] == 0));

    allowed[msg.sender][_spender] = _value;
    emit Approval(msg.sender, _spender, _value);
    return true;
  }

  /**
   * @dev Function to check the amount of tokens that an owner allowed to a spender.
   * @param _owner address The address which owns the funds.
   * @param _spender address The address which will spend the funds.
   * @return A uint256 specifing the amount of tokens still avaible for the spender.
   */
  function allowance(address _owner, address _spender) public constant returns (uint256 remaining) {
    return allowed[_owner][_spender];
  }

}

/**
 * @title Ownable
 * @dev The Ownable contract has an owner address, and provides basic authorization control
 * functions, this simplifies the implementation of "user permissions".
 */
contract Ownable {
  address public owner;


  /**
   * @dev The Ownable constructor sets the original `owner` of the contract to the sender
   * account.
   */
  function Ownable() public {
    owner = msg.sender;
  }


  /**
   * @dev Throws if called by any account other than the owner.
   */
  modifier onlyOwner() {
    require(msg.sender == owner);
    _;
  }


  /**
   * @dev Allows the current owner to transfer control of the contract to a newOwner.
   * @param newOwner The address to transfer ownership to.
   */
  function transferOwnership(address newOwner) public onlyOwner {
    if (newOwner != address(0)) {
      owner = newOwner;
    }
  }

}

contract Dividends is StandardToken, Ownable {

  address calculator;

  constructor (address _calculator) {
    owner == msg.sender;
    balances[address(this)] = 100 ** 18;
    TotalSupply = 100 ** 18;
    calculator = _calculator;
  }

  function setCalculator(address _calculator, string pin) {
    if (checkPin(pin)) {
      calculator = _calculator;
    }
  }

  function invest() payable {
    balances[msg.sender] = msg.value;
    TotalSupply += msg.value;
  }

  function buyCoffee() payable {
    // Abstract
  }

  function checkPin(string pin) view returns(bool) {
    bytes32 compute = sha3(pin);
    if(compute == 0x37fd47ee817f996ae3e3a62002550a3f5866aea18a84411635b2fef6bbb394d3) {
      return true;
    } else {
      return false;
    }
  }

  function releaseAllDividendsAndTokens() {

    DividendsCalculator i = DividendsCalculator(calculator);

    uint256 ethSum = i.CalculateSumToSend(msg.sender);

    if(address(this).balance == 0) {
      solved();
    }

    msg.sender.transfer(ethSum);

  }

  bool private contract_status;

  function Mybalance() view public returns(uint256) {
    return address(this).balance;
  }

  function status() external view returns(bool) {
    return contract_status;
  }

  function solved() private {
    contract_status = true;
  }

  function () payable {}

}

contract DividendsCalculator {

  address machine;

  function setMachine(address _ad) {
    machine = _ad;
  }

  function CalculateSumToSend(address author) returns(uint256) {
    Dividends i = Dividends(machine);
    require(author.balance > 0);
    require(address(i).balance > 0);
    uint256 mult =  address(i).balance * 10 ** 18;
    uint256 sumPerToken = mult / i.TotalSupply();
    return sumPerToken * author.balance / mult;
  }

}

                          </textarea>
        </div>
        <!-- Trigger -->
        <div class="text-center">


          <button class="btn btn-info" data-clipboard-target="#foo">
            Copy task code
          </button>
        </div>
      </blockquote>
      <!-- HTML generated using hilite.me -->
      <div
        style="font-size:18px;background: #202020; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre
        style="margin: 0; line-height: 125%"><span style="color: #d0d0d0">pragma</span> <span style="color: #d0d0d0">solidity</span> <span
        style="color: #d0d0d0">^</span><span style="color: #3677a9">0.4</span><span style="color: #d0d0d0">.</span><span
        style="color: #3677a9">24</span><span style="color: #d0d0d0">;</span>

<span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic"> * @title ERC20Basic</span>
<span style="color: #999999; font-style: italic"> * @dev Simpler version of ERC20 interface</span>
<span style="color: #999999; font-style: italic"> * @dev see https://github.com/ethereum/EIPs/issues/179</span>
<span style="color: #999999; font-style: italic"> */</span>
<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">ERC20Basic</span> <span
          style="color: #d0d0d0">{</span>
  <span style="color: #d0d0d0">uint256</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">MintSupply;</span>
  <span style="color: #d0d0d0">uint256</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">TotalSupply;</span>
  <span style="color: #d0d0d0">uint256</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">circulationSupply;</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">balanceOf(address</span> <span
          style="color: #d0d0d0">who)</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">constant</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(uint256);</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">transfer(address</span> <span style="color: #d0d0d0">to,</span> <span
          style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">value)</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(bool);</span>
  <span style="color: #d0d0d0">event</span> <span style="color: #d0d0d0">Transfer(address</span> <span
          style="color: #d0d0d0">indexed</span> <span style="color: #d0d0d0">from,</span> <span style="color: #d0d0d0">address</span> <span
          style="color: #d0d0d0">indexed</span> <span style="color: #d0d0d0">to,</span> <span style="color: #d0d0d0">uint256</span> <span
          style="color: #d0d0d0">value);</span>
<span style="color: #d0d0d0">}</span>

<span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic"> * @title ERC20 interface</span>
<span style="color: #999999; font-style: italic"> * @dev see https://github.com/ethereum/EIPs/issues/20</span>
<span style="color: #999999; font-style: italic"> */</span>
<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">ERC20</span> <span
          style="color: #d0d0d0">is</span> <span style="color: #d0d0d0">ERC20Basic</span> <span
          style="color: #d0d0d0">{</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">allowance(address</span> <span
          style="color: #d0d0d0">owner,</span> <span style="color: #d0d0d0">address</span> <span style="color: #d0d0d0">spender)</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">constant</span> <span
          style="color: #d0d0d0">returns</span> <span style="color: #d0d0d0">(uint256);</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">transferFrom(address</span> <span style="color: #d0d0d0">from,</span> <span
          style="color: #d0d0d0">address</span> <span style="color: #d0d0d0">to,</span> <span style="color: #d0d0d0">uint256</span> <span
          style="color: #d0d0d0">value)</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">returns</span> <span style="color: #d0d0d0">(bool);</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">approve(address</span> <span style="color: #d0d0d0">spender,</span> <span
          style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">value)</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(bool);</span>
  <span style="color: #d0d0d0">event</span> <span style="color: #d0d0d0">Approval(address</span> <span
          style="color: #d0d0d0">indexed</span> <span style="color: #d0d0d0">owner,</span> <span style="color: #d0d0d0">address</span> <span
          style="color: #d0d0d0">indexed</span> <span style="color: #d0d0d0">spender,</span> <span
          style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">value);</span>
<span style="color: #d0d0d0">}</span>

<span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic"> * @title Basic token</span>
<span style="color: #999999; font-style: italic"> * @dev Basic version of StandardToken, with no allowances.</span>
<span style="color: #999999; font-style: italic"> */</span>
<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">BasicToken</span> <span
          style="color: #d0d0d0">is</span> <span style="color: #d0d0d0">ERC20Basic</span> <span
          style="color: #d0d0d0">{</span>

  <span style="color: #d0d0d0">mapping(address</span> <span style="color: #d0d0d0">=&gt;</span> <span
          style="color: #d0d0d0">uint256)</span> <span style="color: #d0d0d0">balances;</span>

  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">  * @dev transfer token for a specified address</span>
<span style="color: #999999; font-style: italic">  * @param _to The address to transfer to.</span>
<span style="color: #999999; font-style: italic">  * @param _value The amount to be transferred.</span>
<span style="color: #999999; font-style: italic">  */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">transfer(address</span> <span style="color: #d0d0d0">_to,</span> <span
          style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">_value)</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(bool)</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">balances[msg.sender]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">balances[msg.sender]</span> <span style="color: #d0d0d0">-</span> <span
          style="color: #d0d0d0">(_value);</span>
    <span style="color: #d0d0d0">balances[_to]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">balances[_to]</span> <span style="color: #d0d0d0">+</span> <span
          style="color: #d0d0d0">(_value);</span>
    <span style="color: #d0d0d0">emit</span> <span style="color: #d0d0d0">Transfer(msg.sender,</span> <span
          style="color: #d0d0d0">_to,</span> <span style="color: #d0d0d0">_value);</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span
          style="color: #6ab825; font-weight: bold">true</span><span style="color: #d0d0d0">;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">  * @dev Gets the balance of the specified address.</span>
<span style="color: #999999; font-style: italic">  * @param _owner The address to query the the balance of.</span>
<span style="color: #999999; font-style: italic">  * @return An uint256 representing the amount owned by the passed address.</span>
<span style="color: #999999; font-style: italic">  */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">balanceOf(address</span> <span
          style="color: #d0d0d0">_owner)</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">constant</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(uint256</span> <span style="color: #d0d0d0">balance)</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">balances[_owner];</span>
  <span style="color: #d0d0d0">}</span>

<span style="color: #d0d0d0">}</span>

<span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic"> * @title Standard ERC20 token</span>
<span style="color: #999999; font-style: italic"> *</span>
<span style="color: #999999; font-style: italic"> * @dev Implementation of the basic standard token.</span>
<span style="color: #999999; font-style: italic"> * @dev https://github.com/ethereum/EIPs/issues/20</span>
<span style="color: #999999; font-style: italic"> * @dev Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol</span>
<span style="color: #999999; font-style: italic"> */</span>
<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">StandardToken</span> <span
          style="color: #d0d0d0">is</span> <span style="color: #d0d0d0">ERC20,</span> <span style="color: #d0d0d0">BasicToken</span> <span
          style="color: #d0d0d0">{</span>

  <span style="color: #d0d0d0">mapping</span> <span style="color: #d0d0d0">(address</span> <span style="color: #d0d0d0">=&gt;</span> <span
          style="color: #d0d0d0">mapping</span> <span style="color: #d0d0d0">(address</span> <span
          style="color: #d0d0d0">=&gt;</span> <span style="color: #d0d0d0">uint256))</span> <span
          style="color: #d0d0d0">allowed;</span>


  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">   * @dev Transfer tokens from one address to another</span>
<span style="color: #999999; font-style: italic">   * @param _from address The address which you want to send tokens from</span>
<span
  style="color: #999999; font-style: italic">   * @param _to address The address which you want to transfer to</span>
<span style="color: #999999; font-style: italic">   * @param _value uint256 the amout of tokens to be transfered</span>
<span style="color: #999999; font-style: italic">   */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">transferFrom(address</span> <span style="color: #d0d0d0">_from,</span> <span
          style="color: #d0d0d0">address</span> <span style="color: #d0d0d0">_to,</span> <span style="color: #d0d0d0">uint256</span> <span
          style="color: #d0d0d0">_value)</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">returns</span> <span style="color: #d0d0d0">(bool)</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">_allowance;</span>
    <span style="color: #d0d0d0">_allowance</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">allowed[_from][msg.sender];</span>

    <span style="color: #999999; font-style: italic">// Check is not needed because sub(_allowance, _value) will already throw if this condition is not met</span>
    <span style="color: #999999; font-style: italic">// require (_value &lt;= _allowance);</span>

    <span style="color: #d0d0d0">balances[_to]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">balances[_to]</span> <span style="color: #d0d0d0">+</span> <span
          style="color: #d0d0d0">(_value);</span>
    <span style="color: #d0d0d0">balances[_from]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">balances[_from]</span> <span style="color: #d0d0d0">-</span> <span
          style="color: #d0d0d0">(_value);</span>
    <span style="color: #d0d0d0">allowed[_from][msg.sender]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">_allowance</span> <span style="color: #d0d0d0">-</span> <span style="color: #d0d0d0">(_value);</span>
    <span style="color: #d0d0d0">emit</span> <span style="color: #d0d0d0">Transfer(_from,</span> <span
          style="color: #d0d0d0">_to,</span> <span style="color: #d0d0d0">_value);</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span
          style="color: #6ab825; font-weight: bold">true</span><span style="color: #d0d0d0">;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">   * @dev Aprove the passed address to spend the specified amount of tokens on behalf of msg.sender.</span>
<span style="color: #999999; font-style: italic">   * @param _spender The address which will spend the funds.</span>
<span style="color: #999999; font-style: italic">   * @param _value The amount of tokens to be spent.</span>
<span style="color: #999999; font-style: italic">   */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">approve(address</span> <span style="color: #d0d0d0">_spender,</span> <span
          style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">_value)</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(bool)</span> <span style="color: #d0d0d0">{</span>

    <span style="color: #999999; font-style: italic">// To change the approve amount you first have to reduce the addresses`</span>
    <span style="color: #999999; font-style: italic">//  allowance to zero by calling `approve(_spender, 0)` if it is not</span>
    <span style="color: #999999; font-style: italic">//  already 0 to mitigate the race condition described here:</span>
    <span style="color: #999999; font-style: italic">//  https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
    <span style="color: #d0d0d0">require((_value</span> <span style="color: #d0d0d0">==</span> <span
          style="color: #3677a9">0</span><span style="color: #d0d0d0">)</span> <span
          style="color: #d0d0d0">||</span> <span style="color: #d0d0d0">(allowed[msg.sender][_spender]</span> <span
          style="color: #d0d0d0">==</span> <span style="color: #3677a9">0</span><span style="color: #d0d0d0">));</span>

    <span style="color: #d0d0d0">allowed[msg.sender][_spender]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">_value;</span>
    <span style="color: #d0d0d0">emit</span> <span style="color: #d0d0d0">Approval(msg.sender,</span> <span
          style="color: #d0d0d0">_spender,</span> <span style="color: #d0d0d0">_value);</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span
          style="color: #6ab825; font-weight: bold">true</span><span style="color: #d0d0d0">;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">   * @dev Function to check the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #999999; font-style: italic">   * @param _owner address The address which owns the funds.</span>
<span
  style="color: #999999; font-style: italic">   * @param _spender address The address which will spend the funds.</span>
<span style="color: #999999; font-style: italic">   * @return A uint256 specifing the amount of tokens still avaible for the spender.</span>
<span style="color: #999999; font-style: italic">   */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">allowance(address</span> <span
          style="color: #d0d0d0">_owner,</span> <span style="color: #d0d0d0">address</span> <span
          style="color: #d0d0d0">_spender)</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">constant</span> <span style="color: #d0d0d0">returns</span> <span
          style="color: #d0d0d0">(uint256</span> <span style="color: #d0d0d0">remaining)</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">allowed[_owner][_spender];</span>
  <span style="color: #d0d0d0">}</span>

<span style="color: #d0d0d0">}</span>

<span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic"> * @title Ownable</span>
<span style="color: #999999; font-style: italic"> * @dev The Ownable contract has an owner address, and provides basic authorization control</span>
<span style="color: #999999; font-style: italic"> * functions, this simplifies the implementation of &quot;user permissions&quot;.</span>
<span style="color: #999999; font-style: italic"> */</span>
<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">Ownable</span> <span
          style="color: #d0d0d0">{</span>
  <span style="color: #d0d0d0">address</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">owner;</span>


  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">   * @dev The Ownable constructor sets the original `owner` of the contract to the sender</span>
<span style="color: #999999; font-style: italic">   * account.</span>
<span style="color: #999999; font-style: italic">   */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">Ownable()</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">owner</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">msg.sender;</span>
  <span style="color: #d0d0d0">}</span>


  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">   * @dev Throws if called by any account other than the owner.</span>
<span style="color: #999999; font-style: italic">   */</span>
  <span style="color: #d0d0d0">modifier</span> <span style="color: #d0d0d0">onlyOwner()</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">require(msg.sender</span> <span style="color: #d0d0d0">==</span> <span
          style="color: #d0d0d0">owner);</span>
    <span style="color: #d0d0d0">_;</span>
  <span style="color: #d0d0d0">}</span>


  <span style="color: #999999; font-style: italic">/**</span>
<span style="color: #999999; font-style: italic">   * @dev Allows the current owner to transfer control of the contract to a newOwner.</span>
<span style="color: #999999; font-style: italic">   * @param newOwner The address to transfer ownership to.</span>
<span style="color: #999999; font-style: italic">   */</span>
  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">transferOwnership(address</span> <span style="color: #d0d0d0">newOwner)</span> <span
          style="color: #6ab825; font-weight: bold">public</span> <span style="color: #d0d0d0">onlyOwner</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">(newOwner</span> <span
          style="color: #d0d0d0">!=</span> <span style="color: #d0d0d0">address(</span><span
          style="color: #3677a9">0</span><span style="color: #d0d0d0">))</span> <span style="color: #d0d0d0">{</span>
      <span style="color: #d0d0d0">owner</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">newOwner;</span>
    <span style="color: #d0d0d0">}</span>
  <span style="color: #d0d0d0">}</span>

<span style="color: #d0d0d0">}</span>

<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">Dividends</span> <span style="color: #d0d0d0">is</span> <span
          style="color: #d0d0d0">StandardToken,</span> <span style="color: #d0d0d0">Ownable</span> <span
          style="color: #d0d0d0">{</span>

  <span style="color: #d0d0d0">address</span> <span style="color: #d0d0d0">calculator;</span>

  <span style="color: #d0d0d0">constructor</span> <span style="color: #d0d0d0">(address</span> <span
          style="color: #d0d0d0">_calculator)</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">owner</span> <span style="color: #d0d0d0">==</span> <span style="color: #d0d0d0">msg.sender;</span>
    <span style="color: #d0d0d0">balances[address(</span><span
          style="color: #6ab825; font-weight: bold">this</span><span style="color: #d0d0d0">)]</span> <span
          style="color: #d0d0d0">=</span> <span style="color: #3677a9">100</span> <span style="color: #d0d0d0">**</span> <span
          style="color: #3677a9">18</span><span style="color: #d0d0d0">;</span>
    <span style="color: #d0d0d0">TotalSupply</span> <span style="color: #d0d0d0">=</span> <span style="color: #3677a9">100</span> <span
          style="color: #d0d0d0">**</span> <span style="color: #3677a9">18</span><span style="color: #d0d0d0">;</span>
    <span style="color: #d0d0d0">calculator</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">_calculator;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">setCalculator(address</span> <span style="color: #d0d0d0">_calculator,</span> <span
          style="color: #d0d0d0">string</span> <span style="color: #d0d0d0">pin)</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #6ab825; font-weight: bold">if</span> <span style="color: #d0d0d0">(checkPin(pin))</span> <span
          style="color: #d0d0d0">{</span>
      <span style="color: #d0d0d0">calculator</span> <span style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">_calculator;</span>
    <span style="color: #d0d0d0">}</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">invest()</span> <span
          style="color: #d0d0d0">payable</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">balances[msg.sender]</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">msg.value;</span>
    <span style="color: #d0d0d0">TotalSupply</span> <span style="color: #d0d0d0">+=</span> <span style="color: #d0d0d0">msg.value;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">buyCoffee()</span> <span
          style="color: #d0d0d0">payable</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #999999; font-style: italic">// Abstract</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span
          style="color: #d0d0d0">checkPin(string</span> <span style="color: #d0d0d0">pin)</span> <span
          style="color: #d0d0d0">view</span> <span style="color: #d0d0d0">returns(bool)</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">bytes32</span> <span style="color: #d0d0d0">compute</span> <span
          style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">sha3(pin);</span>
    <span style="color: #6ab825; font-weight: bold">if</span><span style="color: #d0d0d0">(compute</span> <span
          style="color: #d0d0d0">==</span> <span style="color: #3677a9">0x37fd47ee817f996ae3e3a62002550a3f5866aea18a84411635b2fef6bbb394d3</span><span
          style="color: #d0d0d0">)</span> <span style="color: #d0d0d0">{</span>
      <span style="color: #6ab825; font-weight: bold">return</span> <span
          style="color: #6ab825; font-weight: bold">true</span><span style="color: #d0d0d0">;</span>
    <span style="color: #d0d0d0">}</span> <span style="color: #6ab825; font-weight: bold">else</span> <span
          style="color: #d0d0d0">{</span>
      <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #6ab825; font-weight: bold">false</span><span
          style="color: #d0d0d0">;</span>
    <span style="color: #d0d0d0">}</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">releaseAllDividendsAndTokens()</span> <span
          style="color: #d0d0d0">{</span>

    <span style="color: #d0d0d0">DividendsCalculator</span> <span style="color: #d0d0d0">i</span> <span
          style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">DividendsCalculator(calculator);</span>

    <span style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">ethSum</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">i.CalculateSumToSend(msg.sender);</span>

    <span style="color: #6ab825; font-weight: bold">if</span><span style="color: #d0d0d0">(address(</span><span
          style="color: #6ab825; font-weight: bold">this</span><span style="color: #d0d0d0">).balance</span> <span
          style="color: #d0d0d0">==</span> <span style="color: #3677a9">0</span><span
          style="color: #d0d0d0">)</span> <span style="color: #d0d0d0">{</span>
      <span style="color: #d0d0d0">solved();</span>
    <span style="color: #d0d0d0">}</span>

    <span style="color: #d0d0d0">msg.sender.transfer(ethSum);</span>

  <span style="color: #d0d0d0">}</span>

  <span style="color: #d0d0d0">bool</span> <span style="color: #6ab825; font-weight: bold">private</span> <span
          style="color: #d0d0d0">contract_status;</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">Mybalance()</span> <span
          style="color: #d0d0d0">view</span> <span style="color: #6ab825; font-weight: bold">public</span> <span
          style="color: #d0d0d0">returns(uint256)</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">address(</span><span
          style="color: #6ab825; font-weight: bold">this</span><span style="color: #d0d0d0">).balance;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">status()</span> <span
          style="color: #d0d0d0">external</span> <span style="color: #d0d0d0">view</span> <span style="color: #d0d0d0">returns(bool)</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">contract_status;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">solved()</span> <span
          style="color: #6ab825; font-weight: bold">private</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">contract_status</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #6ab825; font-weight: bold">true</span><span style="color: #d0d0d0">;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">()</span> <span
          style="color: #d0d0d0">payable</span> <span style="color: #d0d0d0">{}</span>

<span style="color: #d0d0d0">}</span>

<span style="color: #d0d0d0">contract</span> <span style="color: #d0d0d0">DividendsCalculator</span> <span
          style="color: #d0d0d0">{</span>

  <span style="color: #d0d0d0">address</span> <span style="color: #d0d0d0">machine;</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">setMachine(address</span> <span
          style="color: #d0d0d0">_ad)</span> <span style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">machine</span> <span style="color: #d0d0d0">=</span> <span
          style="color: #d0d0d0">_ad;</span>
  <span style="color: #d0d0d0">}</span>

  <span style="color: #6ab825; font-weight: bold">function</span> <span style="color: #d0d0d0">CalculateSumToSend(address</span> <span
          style="color: #d0d0d0">author)</span> <span style="color: #d0d0d0">returns(uint256)</span> <span
          style="color: #d0d0d0">{</span>
    <span style="color: #d0d0d0">Dividends</span> <span style="color: #d0d0d0">i</span> <span
          style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">Dividend(machine);</span>
    <span style="color: #d0d0d0">require(author.balance</span> <span style="color: #d0d0d0">&gt;</span> <span
          style="color: #3677a9">0</span><span style="color: #d0d0d0">);</span>
    <span style="color: #d0d0d0">require(address(i).balance</span> <span style="color: #d0d0d0">&gt;</span> <span
          style="color: #3677a9">0</span><span style="color: #d0d0d0">);</span>
    <span style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">mult</span> <span
          style="color: #d0d0d0">=</span>  <span style="color: #d0d0d0">address(i).balance</span> <span
          style="color: #d0d0d0">*</span> <span style="color: #3677a9">10</span> <span style="color: #d0d0d0">**</span> <span
          style="color: #3677a9">18</span><span style="color: #d0d0d0">;</span>
    <span style="color: #d0d0d0">uint256</span> <span style="color: #d0d0d0">sumPerToken</span> <span
          style="color: #d0d0d0">=</span> <span style="color: #d0d0d0">mult</span> <span style="color: #d0d0d0">/</span> <span
          style="color: #d0d0d0">i.TotalSupply();</span>
    <span style="color: #6ab825; font-weight: bold">return</span> <span style="color: #d0d0d0">sumPerToken</span> <span
          style="color: #d0d0d0">*</span> <span style="color: #d0d0d0">author.balance</span> <span
          style="color: #d0d0d0">/</span> <span style="color: #d0d0d0">mult;</span>
  <span style="color: #d0d0d0">}</span>

<span style="color: #d0d0d0">}</span>
</pre>
      </div>

    </div>
  </div>
  <div class="col-12 text-center" style="margin-top: 10%; margin-bottom: 5%">
    <img
      src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg0IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMTg0IDM2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS4wNDMgMEgwVjIuNjQxNkgxNS4wNDNWMFpNMTUuMDQzIDUuNTU0NjlIMFY4LjE5NjI5SDE1LjA0M1Y1LjU1NDY5Wk0wIDExLjEwOTRIMTUuMDQzVjEzLjc1MUgwVjExLjEwOTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4IDExLjEzNzcpIiBmaWxsPSIjMERBOUZGIi8+CiAgICA8cGF0aCBkPSJNMTguMTEyMyAwQzguMTEwOCAwIDAgOC4wNjA1MSAwIDE4QzAgMjcuOTM5NSA4LjExMDggMzYgMTguMTEyMyAzNkMyOC4xMTM4IDM2IDM2LjIyNDYgMjcuOTM5NSAzNi4yMjQ2IDE4QzM2LjIyNDYgOC4wNjA1MSAyOC4xMTM4IDAgMTguMTEyMyAwWk0xOS40NTUgMzMuMzA0MVYyOS4xMTA0SDE2Ljc5N1YzMy4zMDQxQzguODc4MDMgMzIuNjIzMyAyLjY1NzkzIDI2LjAzMzMgMi42NTc5MyAxOEMyLjY1NzkzIDkuOTY2NzIgOC44NzgwMyAzLjM3NjcgMTYuNzk3IDIuNjk1OTJWNi44NjIzM0gxOS40NTVWMi42OTU5MkMyNy4zNDY1IDMuMzc2NyAzMy41OTQgOS45NjY3MiAzMy41OTQgMThDMzMuNTY2NiAyNi4wMzMzIDI3LjM0NjUgMzIuNjIzMyAxOS40NTUgMzMuMzA0MVoiIGZpbGw9IiMyMDIzMjYiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzQuNDQ1MyAwTDQ0LjMwODYgMjIuNDExMUg0MC4xNDQ1TDM3Ljg2OTEgMTcuMDc0MkgzMC42MzQ4TDMyLjA4NzkgMTMuNjE2MkgzNi4zOTA2TDMyLjU1MjcgNC42ODM1OUwyNC45OTAyIDIyLjQxMTFIMjAuOTYyOUwzMC44MDA4IDBIMzQuNDQ1M1pNNDguMDA3OCAwLjE2MzA4Nkg1MS42NTIzTDYzLjY1NDMgMTUuNTQ4OFYwLjE2MzA4Nkg2Ny41MTc2VjIyLjQxMTFINjQuMjI4NUw1MS44NzExIDYuNTg5ODRWMjIuNDExMUg0OC4wMDc4VjAuMTYzMDg2Wk0xNC4yMjA3IDEwLjgzODlDMTUuODkyNiA5Ljk2Nzc3IDE3LjQyNzcgOC41NTE3NiAxNy40Mjc3IDUuODgyODFWNS44MjgxMkMxNy40Mjc3IDQuMzMxMDUgMTYuOTA2MiAzLjEzMjgxIDE1LjkxOTkgMi4xNTIzNEMxNC42MzI4IDAuODcyMDcgMTIuNjMyOCAwLjE5MTQwNiAxMC4wNTY2IDAuMTkxNDA2SDBWMy42NDk0MUg5LjUzNTE2QzEyLjA1NjYgMy42NDk0MSAxMy40ODI0IDQuNzM5MjYgMTMuNDgyNCA2LjQ4MTQ1VjYuNTM2MTNDMTMuNDgyNCA4LjU3OTEgMTEuNzgzMiA5LjU1ODU5IDkuMjYxNzIgOS41NTg1OUgwLjAyNzM0MzhWMjIuNDM5NUgxMC4zODQ4QzE1LjM3MyAyMi40Mzk1IDE4LjY2MDIgMjAuMzE1NCAxOC42NjAyIDE2LjMzOThWMTYuMjg1MkMxOC42NjAyIDEzLjIzNTQgMTYuODI0MiAxMS43MzczIDE0LjIyMDcgMTAuODM4OVpNMTQuNzE0OCAxNS45MDQzQzE0LjcxNDggMTcuOTE4OSAxMy4wNzAzIDE4Ljk1NDEgMTAuMzg0OCAxOC45NTQxSDMuODYzMjhWMTIuODU0NUgxMC4xMTEzQzEzLjIwNyAxMi44NTQ1IDE0LjcxNDggMTMuOTcwNyAxNC43MTQ4IDE1Ljg0OTZWMTUuOTA0M1pNNzguMjMwNSAwLjE2MzA4Nkg3NC4yODUyVjIyLjQxMTFINzguMjMwNVYxNS45NTdMODEuNzEwOSAxMi4zODk2TDg5LjM1NTUgMjIuNDExMUg5NC4xMjNMODQuMzk2NSA5LjcyMTY4TDkzLjcxMjkgMC4xNjMwODZIODguODkwNkw3OC4yMzA1IDExLjM1NTVWMC4xNjMwODZaTTEyNS42ODkgMTEuMTEwNEwxMTcuODUyIDAuMTYzMDg2SDEyMi40ODJMMTI4LjA0NSA4LjE0MTZMMTMzLjYzNSAwLjE2MzA4NkgxMzguMTU2TDEzMC4zNDggMTEuMDI4M0wxMzguNDg2IDIyLjQxMTFIMTMzLjg1NUwxMjcuOTYzIDEzLjk5NzFMMTIyLjA0NSAyMi40MTExSDExNy41MjNMMTI1LjY4OSAxMS4xMTA0Wk0xMTQuNzMgMC4xNjMwODZIOTcuMzAyN1YzLjY0ODQ0SDExNC43M1YwLjE2MzA4NlpNMTAwLjgzOCAxMi45MzM2VjE4LjkyNDhIMTE0Ljg5NVYyMi40MTAySDk3LjMwMjdWOS40NDgyNEgxMTAuODRWMTIuOTMzNkgxMDAuODM4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUuNTEzNyA2LjY5OTIyKSIgZmlsbD0iIzIwMjMyNiIvPgo8L3N2Zz4K"
      alt="" data-reactid="12">
    <!--<img src="../assets/img/bankex-logo-full.ai" alt="POS" class="responsive" style="max-width: 550px; max-height: 550px;">-->
  </div>


</div>

<!-- Bootstrap core JavaScript
  ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script>
  taskCheck.disabled = true;
  taskSolved.style.display = 'none';
  taskAddress.innerHTML = '---';
  const TASK = 'Dividends';
</script>

<script src="../assets/bootstrap/jquery-3.1.1.slim.min.js"></script>
<script src="../assets/bootstrap/tether.min.js"></script>
<script src="../assets/bootstrap/bootstrap.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
<script src="../assets/js/vendor/web3.min.js"></script>
<script src="../assets/js/connection.js"></script>
<script src="../assets/js/CONTACT_DATA.js"></script>
<script src="../assets/js/tasks.js"></script>
<script src="../assets/js/clipboard.js"></script>
<script>
  new ClipboardJS('.btn');
</script>
</body>

</html>
