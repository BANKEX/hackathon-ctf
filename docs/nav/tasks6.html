<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../assets/img/favicon-32x32.png">
  <title>CTF</title>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="../assets/bootstrap/boostrap.min.css">
</head>


<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">
    <img src="../assets/img/CTF2.png" height="40">
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div style="color: #1e0010; font-weight: 700; font-size: 20px;" class="collapse navbar-collapse"
       id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link" href="#">Tasks:</a>
      <a class="nav-item nav-link" href="tasks1.html">1</a>
      <a class="nav-item nav-link" href="tasks2.html">2</a>
      <a class="nav-item nav-link" href="tasks3.html">3</a>
      <a class="nav-item nav-link" href="tasks4.html">4</a>
      <a class="nav-item nav-link" href="tasks5.html">5</a>
      <a class="nav-item nav-link active" href="#">6<span class="sr-only">(current)</span></a>
      <a style="color: red;" class="nav-item nav-link" href="help.html">Help</a>
      <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="leaderboard.html">Leaderboard</a>
      <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="prize.html">WINNERS</a>
      <a style="color: black; float: right" class="nav-item nav-link" id="teamName"></a>
    </div>
  </div>
</nav>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <p style="margin-top: 5%; font-size: 69px !important; color: #1e0010; font-weight: 700;">Task 6: Kamikaze</p>
      <div class="btns text-center">
        <button type="submit" class="btn btn-success btn-md" style="font-size: 20px;" id="taskDeploy">
          <i class="fa fa-user-plus"></i> Deploy to network
        </button>
        <button type="submit" class="btn btn-warning btn-md" style="font-size: 20px;" id="taskCheck">
          <i class="fa fa-user-plus"></i>Send solution
        </button>

        <button type="submit" class="btn btn-danger disabled btn-md" style="font-size: 20px;" id="taskSolved">
          <i class="fa fa-user-plus"></i>Solved
        </button>

      </div>

      <br>
      <br>
      <br>
      <br>
      <h1>@About</h1>

      <blockquote style="font-size: 40px " class="blockquote">
        <p style="font-size: 25px " class="mb-0">In the near future there was an opportunity to legalize the ETH. To do this,
          you need to send ETH to the account created by the Bank for you.
          You will be able to convert ETH to the legal tokens of the Bank.

          Also, the bank can freeze your account or freeze some of the funds on your account.
          If the bank freezes your some amount of ETH and your balance becomes negative - you will be permanently blocked.

          Now you have blocked account. If you want to win - unblock your account (call legalWithdrawal function).</p>
        <hr>
        <h1>@Task</h1>

        <p style="font-size: 25px " class="mb-0">Your goal is to assign true to the "contract_status" variable</p>
        <p style="font-size: 25px " class="mb-0">contract_status == true;</p>

        <br>
        <footer style="font-size: 30px " class="blockquote-footer">Your smart contract is at
          <cite style="font-weight: 900; color: #1e0010" title="Source Title"
                id="taskAddress">0ceqiccnoijwncoiwncoiwncb</cite> on <strong style="font-weight: 900; color: #1e0010">Rinkeby</strong>
          network
        </footer>

        <!-- Trigger -->
        <div class="text-center">


          <button class="btn btn-info" data-clipboard-target="#foo">
            Copy task code
          </button>
        </div>
      </blockquote>
      <!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">pragma</span> <span style="color: #a6e22e">solidity</span> <span style="color: #f92672">^</span> <span style="color: #ae81ff">0.4</span><span style="color: #f8f8f2">.</span><span style="color: #ae81ff">21</span><span style="color: #f8f8f2">;</span>

<span style="color: #75715e">/**</span>
<span style="color: #75715e"> * @title SafeMath</span>
<span style="color: #75715e"> * @dev Math operations with safety checks that throw on error</span>
<span style="color: #75715e"> */</span>
<span style="color: #a6e22e">library</span> <span style="color: #a6e22e">SafeMath</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">mul</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">a</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #66d9ef">return</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">c</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">*</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">assert</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">c</span> <span style="color: #f92672">/</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">c</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Integer division of two numbers, truncating the quotient.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">div</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #75715e">// assert(b &gt; 0); // Solidity automatically throws when dividing by 0</span>
        <span style="color: #75715e">// uint256 c = a / b;</span>
        <span style="color: #75715e">// assert(a == b * c + a % b); // There is no case in which this doesn&#39;t hold</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">/</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">assert</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">b</span> <span style="color: #f92672">&lt;=</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">-</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Adds two numbers, throws on overflow.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">c</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">assert</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">c</span> <span style="color: #f92672">&gt;=</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">c</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #75715e">/**</span>
<span style="color: #75715e"> * @title ERC20 interface</span>
<span style="color: #75715e"> * @dev see https://github.com/ethereum/EIPs/issues/20</span>
<span style="color: #75715e"> */</span>
<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">IERC20</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">allowance</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">spender</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transferFrom</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">approve</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">totalSupply</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">balanceOf</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">who</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #a6e22e">event</span> <span style="color: #a6e22e">Transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #a6e22e">event</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #75715e">/**</span>
<span style="color: #75715e"> * @title Standard ERC20 token</span>
<span style="color: #75715e"> *</span>
<span style="color: #75715e"> * @dev Implementation of the basic standard token.</span>
<span style="color: #75715e"> * @dev https://github.com/ethereum/EIPs/issues/20</span>
<span style="color: #75715e"> * @dev Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol</span>
<span style="color: #75715e"> */</span>
<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">ERC20</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">IERC20</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">using</span> <span style="color: #a6e22e">SafeMath</span>
    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">))</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">totalSupply_</span><span style="color: #f8f8f2">;</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev total number of tokens in existence</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">totalSupply</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">totalSupply_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Transfer tokens from one address to another</span>
<span style="color: #75715e">     * @param _from address The address which you want to send tokens from</span>
<span style="color: #75715e">     * @param _to address The address which you want to transfer to</span>
<span style="color: #75715e">     * @param _value The amount of tokens to be transferred</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transfer_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_bfrom</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_bto</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_to</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">));</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span> <span style="color: #f92672">&lt;=</span> <span style="color: #a6e22e">_bfrom</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_bfrom</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_bto</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>


    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Transfer tokens from one address to another, decreasing allowance</span>
<span style="color: #75715e">     * @param _from address The address which you want to send tokens from</span>
<span style="color: #75715e">     * @param _to address The address which you want to transfer to</span>
<span style="color: #75715e">     * @param _value The amount of tokens to be transferred</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transferAllowed_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span> <span style="color: #f92672">&lt;=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">transfer_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev transfer token for a specified address</span>
<span style="color: #75715e">     * @param _to The address to transfer to.</span>
<span style="color: #75715e">     * @param _value The amount to be transferred.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">transfer_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Transfer tokens from one address to another</span>
<span style="color: #75715e">     * @param _from address The address which you want to send tokens from</span>
<span style="color: #75715e">     * @param _to address The address which you want to transfer to</span>
<span style="color: #75715e">     * @param _value uint the amount of tokens to be transferred</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transferFrom</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">transferAllowed_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Gets the balance of the specified address.</span>
<span style="color: #75715e">     * @param _owner The address to query the the balance of.</span>
<span style="color: #75715e">     * @return An uint representing the amount owned by the passed address.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">balanceOf</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">balance</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">];</span>
    <span style="color: #f8f8f2">}</span>


    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.</span>
<span style="color: #75715e">     *</span>
<span style="color: #75715e">     * Beware that changing an allowance with this method brings the risk that someone may use both the old</span>
<span style="color: #75715e">     * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this</span>
<span style="color: #75715e">     * race condition is to first reduce the spender&#39;s allowance to 0 and set the desired value afterwards:</span>
<span style="color: #75715e">     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
<span style="color: #75715e">     * @param _spender The address which will spend the funds.</span>
<span style="color: #75715e">     * @param _value The amount of tokens to be spent.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">approve</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Function to check the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #75715e">     * @param _owner address The address which owns the funds.</span>
<span style="color: #75715e">     * @param _spender address The address which will spend the funds.</span>
<span style="color: #75715e">     * @return A uint specifying the amount of tokens still available for the spender.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">allowance</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">];</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Increase the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #75715e">     *</span>
<span style="color: #75715e">     * approve should be called when allowed[_spender] == 0. To increment</span>
<span style="color: #75715e">     * allowed value is better to use this function to avoid 2 calls (and wait until</span>
<span style="color: #75715e">     * the first transaction is mined)</span>
<span style="color: #75715e">     * From MonolithDAO Token.sol</span>
<span style="color: #75715e">     * @param _spender The address which will spend the funds.</span>
<span style="color: #75715e">     * @param _addedValue The amount of tokens to increase the allowance by.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">increaseApproval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_addedValue</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_addedValue</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Decrease the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #75715e">     *</span>
<span style="color: #75715e">     * approve should be called when allowed[_spender] == 0. To decrement</span>
<span style="color: #75715e">     * allowed value is better to use this function to avoid 2 calls (and wait until</span>
<span style="color: #75715e">     * the first transaction is mined)</span>
<span style="color: #75715e">     * From MonolithDAO Token.sol</span>
<span style="color: #75715e">     * @param _spender The address which will spend the funds.</span>
<span style="color: #75715e">     * @param _subtractedValue The amount of tokens to decrease the allowance by.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">decreaseApproval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_subtractedValue</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">];</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_subtractedValue</span> <span style="color: #f92672">&gt;</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span> <span style="color: #66d9ef">else</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_subtractedValue</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">BasicToken</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">ERC20</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">constructor</span> <span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">totalSupply_</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2</span><span style="color: #f92672">**</span><span style="color: #ae81ff">256</span><span style="color: #f92672">-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">totalSupply_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">IBank</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">uint256</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">coinPrice</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #a6e22e">e3</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">ERC20Token</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">mapping</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">string</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">bankName</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyBankOwnerOrBankAccount</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">||</span> <span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">));</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getCoins</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">addNewBankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyBankOwnerOrBankAccount</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">Bank</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">IBank</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">constructor</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_ERC20Token</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_firstBankAccountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">bankName</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;Global Legal Bank&quot;</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0x6d377de54bde59c6a4b0fa15cb2efb84bb32d433</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">ERC20Token</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_ERC20Token</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">bankAccount</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">BankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">this</span><span style="color: #f8f8f2">),</span> <span style="color: #a6e22e">_firstBankAccountOwner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">addNewBankAccount_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bankAccount</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_firstBankAccountOwner</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getCoins</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">));</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">IERC20</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">ERC20Token</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">addNewBankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyBankOwnerOrBankAccount</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">addNewBankAccount_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">addNewBankAccount_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">IBankAccount</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">using</span> <span style="color: #a6e22e">SafeMath</span>
    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">DECIMAL_MULTIPLIER</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #a6e22e">e18</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">BANK_FEE</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4</span><span style="color: #a6e22e">e16</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">CLIENT_SHARE</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">DECIMAL_MULTIPLIER</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BANK_FEE</span><span style="color: #f8f8f2">);</span>

    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">mapping</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">owners</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">frozenBalance</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">releasedETH</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyBankOrAccountOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span>  <span style="color: #f92672">||</span> <span style="color: #a6e22e">owners</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">==</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">owners</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">==</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyBankOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">payable</span><span style="color: #f8f8f2">;</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">legalWithdrawal</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getETHBalance</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">onlyBankOrAccountOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">IBankAccount</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">bool</span> <span style="color: #66d9ef">private</span> <span style="color: #a6e22e">contract_status</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">constructor</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_bank</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">bank</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_bank</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">owners</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">frozenBalance</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #a6e22e">e3</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">    * If you want to add new teammates to resolve this task - use this function</span>
<span style="color: #75715e">    */</span>
    <span style="color: #66d9ef">function</span>  <span style="color: #a6e22e">addBankAccountOwners</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_newOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">onlyOwner</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">owners</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_newOwner</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">addNewBankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">this</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_newOwner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">payable</span> <span style="color: #a6e22e">onlyBankOwner</span> <span style="color: #f8f8f2">{</span>

    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">calculateReleaseTokens</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">view</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">mul</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">CLIENT_SHARE</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">div</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">DECIMAL_MULTIPLIER</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">legalWithdrawal</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">int256</span> <span style="color: #a6e22e">_accountBalance</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">getETHBalance_</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_accountBalance</span> <span style="color: #f92672">&gt;</span> <span style="color: #ae81ff">0</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #a6e22e">_accountBalance</span> <span style="color: #f92672">&gt;=</span> <span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">));</span>
        <span style="color: #a6e22e">releasedETH</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">releasedETH</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">releaseTokens</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">calculateReleaseTokens</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">getCoins</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">tx</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">origin</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">releaseTokens</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">solved</span><span style="color: #f8f8f2">();</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getETHBalance</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">onlyBankOrAccountOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">getETHBalance_</span><span style="color: #f8f8f2">();</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getETHBalance_</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">int256</span> <span style="color: #a6e22e">_ETHbalance</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">this</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">balance</span> <span style="color: #f92672">-</span> <span style="color: #a6e22e">frozenBalance</span> <span style="color: #f92672">-</span> <span style="color: #a6e22e">releasedETH</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">_ETHbalance</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getBankERC20Token_</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">ERC20Token</span><span style="color: #f8f8f2">();</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">status</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">contract_status</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">solved</span><span style="color: #f8f8f2">()</span> <span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">contract_status</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>
</pre></div>




    </div>
  </div>
  <div class="col-12 text-center" style="margin-top: 10%; margin-bottom: 5%">
    <img
      src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg0IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMTg0IDM2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS4wNDMgMEgwVjIuNjQxNkgxNS4wNDNWMFpNMTUuMDQzIDUuNTU0NjlIMFY4LjE5NjI5SDE1LjA0M1Y1LjU1NDY5Wk0wIDExLjEwOTRIMTUuMDQzVjEzLjc1MUgwVjExLjEwOTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMC42MzI4IDExLjEzNzcpIiBmaWxsPSIjMERBOUZGIi8+CiAgICA8cGF0aCBkPSJNMTguMTEyMyAwQzguMTEwOCAwIDAgOC4wNjA1MSAwIDE4QzAgMjcuOTM5NSA4LjExMDggMzYgMTguMTEyMyAzNkMyOC4xMTM4IDM2IDM2LjIyNDYgMjcuOTM5NSAzNi4yMjQ2IDE4QzM2LjIyNDYgOC4wNjA1MSAyOC4xMTM4IDAgMTguMTEyMyAwWk0xOS40NTUgMzMuMzA0MVYyOS4xMTA0SDE2Ljc5N1YzMy4zMDQxQzguODc4MDMgMzIuNjIzMyAyLjY1NzkzIDI2LjAzMzMgMi42NTc5MyAxOEMyLjY1NzkzIDkuOTY2NzIgOC44NzgwMyAzLjM3NjcgMTYuNzk3IDIuNjk1OTJWNi44NjIzM0gxOS40NTVWMi42OTU5MkMyNy4zNDY1IDMuMzc2NyAzMy41OTQgOS45NjY3MiAzMy41OTQgMThDMzMuNTY2NiAyNi4wMzMzIDI3LjM0NjUgMzIuNjIzMyAxOS40NTUgMzMuMzA0MVoiIGZpbGw9IiMyMDIzMjYiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzQuNDQ1MyAwTDQ0LjMwODYgMjIuNDExMUg0MC4xNDQ1TDM3Ljg2OTEgMTcuMDc0MkgzMC42MzQ4TDMyLjA4NzkgMTMuNjE2MkgzNi4zOTA2TDMyLjU1MjcgNC42ODM1OUwyNC45OTAyIDIyLjQxMTFIMjAuOTYyOUwzMC44MDA4IDBIMzQuNDQ1M1pNNDguMDA3OCAwLjE2MzA4Nkg1MS42NTIzTDYzLjY1NDMgMTUuNTQ4OFYwLjE2MzA4Nkg2Ny41MTc2VjIyLjQxMTFINjQuMjI4NUw1MS44NzExIDYuNTg5ODRWMjIuNDExMUg0OC4wMDc4VjAuMTYzMDg2Wk0xNC4yMjA3IDEwLjgzODlDMTUuODkyNiA5Ljk2Nzc3IDE3LjQyNzcgOC41NTE3NiAxNy40Mjc3IDUuODgyODFWNS44MjgxMkMxNy40Mjc3IDQuMzMxMDUgMTYuOTA2MiAzLjEzMjgxIDE1LjkxOTkgMi4xNTIzNEMxNC42MzI4IDAuODcyMDcgMTIuNjMyOCAwLjE5MTQwNiAxMC4wNTY2IDAuMTkxNDA2SDBWMy42NDk0MUg5LjUzNTE2QzEyLjA1NjYgMy42NDk0MSAxMy40ODI0IDQuNzM5MjYgMTMuNDgyNCA2LjQ4MTQ1VjYuNTM2MTNDMTMuNDgyNCA4LjU3OTEgMTEuNzgzMiA5LjU1ODU5IDkuMjYxNzIgOS41NTg1OUgwLjAyNzM0MzhWMjIuNDM5NUgxMC4zODQ4QzE1LjM3MyAyMi40Mzk1IDE4LjY2MDIgMjAuMzE1NCAxOC42NjAyIDE2LjMzOThWMTYuMjg1MkMxOC42NjAyIDEzLjIzNTQgMTYuODI0MiAxMS43MzczIDE0LjIyMDcgMTAuODM4OVpNMTQuNzE0OCAxNS45MDQzQzE0LjcxNDggMTcuOTE4OSAxMy4wNzAzIDE4Ljk1NDEgMTAuMzg0OCAxOC45NTQxSDMuODYzMjhWMTIuODU0NUgxMC4xMTEzQzEzLjIwNyAxMi44NTQ1IDE0LjcxNDggMTMuOTcwNyAxNC43MTQ4IDE1Ljg0OTZWMTUuOTA0M1pNNzguMjMwNSAwLjE2MzA4Nkg3NC4yODUyVjIyLjQxMTFINzguMjMwNVYxNS45NTdMODEuNzEwOSAxMi4zODk2TDg5LjM1NTUgMjIuNDExMUg5NC4xMjNMODQuMzk2NSA5LjcyMTY4TDkzLjcxMjkgMC4xNjMwODZIODguODkwNkw3OC4yMzA1IDExLjM1NTVWMC4xNjMwODZaTTEyNS42ODkgMTEuMTEwNEwxMTcuODUyIDAuMTYzMDg2SDEyMi40ODJMMTI4LjA0NSA4LjE0MTZMMTMzLjYzNSAwLjE2MzA4NkgxMzguMTU2TDEzMC4zNDggMTEuMDI4M0wxMzguNDg2IDIyLjQxMTFIMTMzLjg1NUwxMjcuOTYzIDEzLjk5NzFMMTIyLjA0NSAyMi40MTExSDExNy41MjNMMTI1LjY4OSAxMS4xMTA0Wk0xMTQuNzMgMC4xNjMwODZIOTcuMzAyN1YzLjY0ODQ0SDExNC43M1YwLjE2MzA4NlpNMTAwLjgzOCAxMi45MzM2VjE4LjkyNDhIMTE0Ljg5NVYyMi40MTAySDk3LjMwMjdWOS40NDgyNEgxMTAuODRWMTIuOTMzNkgxMDAuODM4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDUuNTEzNyA2LjY5OTIyKSIgZmlsbD0iIzIwMjMyNiIvPgo8L3N2Zz4K"
      alt="" data-reactid="12">
    <!--<img src="../assets/img/bankex-logo-full.ai" alt="POS" class="responsive" style="max-width: 550px; max-height: 550px;">-->
  </div>


</div>
<div>
  <!-- Target --><textarea style="display: block; width: 0px; height: 0px;" id="foo">
pragma solidity ^ 0.4.21;

/*
    In the near future there was an opportunity to legalize the ETH. To do this,
    you need to send ETH to the account created by the Bank for you.
    You will be able to convert ETH to the legal tokens of the Bank.

    Also, the bank can freeze your account or freeze some of the funds on your account.
    If the bank freezes your some amount of ETH and your balance becomes negative - you will be permanently blocked.

    Now you have blocked account. If you want to win - unblock your account (call legalWithdrawal function).
*/

/**
 * @title SafeMath
 * @dev Math operations with safety checks that throw on error
 */
library SafeMath {
    function mul(uint256 a, uint256 b) internal pure returns(uint256) {
        if (a == 0) {
            return 0;
        }
        uint256 c = a * b;
        assert(c / a == b);
        return c;
    }

    /**
     * @dev Integer division of two numbers, truncating the quotient.
     */
    function div(uint256 a, uint256 b) internal pure returns(uint256) {
        // assert(b > 0); // Solidity automatically throws when dividing by 0
        // uint256 c = a / b;
        // assert(a == b * c + a % b); // There is no case in which this doesn't hold
        return a / b;
    }

    /**
     * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).
     */
    function sub(uint256 a, uint256 b) internal pure returns(uint256) {
        assert(b <= a);
        return a - b;
    }

    /**
     * @dev Adds two numbers, throws on overflow.
     */
    function add(uint256 a, uint256 b) internal pure returns(uint256) {
        uint256 c = a + b;
        assert(c >= a);
        return c;
    }
}

/**
 * @title ERC20 interface
 * @dev see https://github.com/ethereum/EIPs/issues/20
 */
contract IERC20 {
    function allowance(address owner, address spender) external view returns(uint);

    function transferFrom(address from, address to, uint value) external returns(bool);

    function approve(address spender, uint value) external returns(bool);

    function totalSupply() external view returns(uint);

    function balanceOf(address who) external view returns(uint);

    function transfer(address to, uint value) external returns(bool);

    event Transfer(address indexed from, address indexed to, uint value);
    event Approval(address indexed owner, address indexed spender, uint value);
}

/**
 * @title Standard ERC20 token
 *
 * @dev Implementation of the basic standard token.
 * @dev https://github.com/ethereum/EIPs/issues/20
 * @dev Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol
 */
contract ERC20 is IERC20 {
    using SafeMath
    for uint;

    mapping(address => uint) internal balances;
    mapping(address => mapping(address => uint)) internal allowed;

    uint internal totalSupply_;

    /**
     * @dev total number of tokens in existence
     */
    function totalSupply() external view returns(uint) {
        return totalSupply_;
    }

    /**
     * @dev Transfer tokens from one address to another
     * @param _from address The address which you want to send tokens from
     * @param _to address The address which you want to transfer to
     * @param _value The amount of tokens to be transferred
     */
    function transfer_(address _from, address _to, uint _value) internal returns(bool) {
        require(_from != _to);
        uint _bfrom = balances[_from];
        uint _bto = balances[_to];
        require(_to != address(0));
        require(_value <= _bfrom);
        balances[_from] = _bfrom.sub(_value);
        balances[_to] = _bto.add(_value);
        emit Transfer(_from, _to, _value);
        return true;
    }


    /**
     * @dev Transfer tokens from one address to another, decreasing allowance
     * @param _from address The address which you want to send tokens from
     * @param _to address The address which you want to transfer to
     * @param _value The amount of tokens to be transferred
     */
    function transferAllowed_(address _from, address _to, uint _value) internal returns(bool) {
        uint _allowed = allowed[_from][msg.sender];
        require(_value <= _allowed);
        allowed[_from][msg.sender] = _allowed.sub(_value);
        return transfer_(_from, _to, _value);
    }

    /**
     * @dev transfer token for a specified address
     * @param _to The address to transfer to.
     * @param _value The amount to be transferred.
     */
    function transfer(address _to, uint _value) external returns(bool) {
        return transfer_(msg.sender, _to, _value);
    }

    /**
     * @dev Transfer tokens from one address to another
     * @param _from address The address which you want to send tokens from
     * @param _to address The address which you want to transfer to
     * @param _value uint the amount of tokens to be transferred
     */
    function transferFrom(address _from, address _to, uint _value) external returns(bool) {
        return transferAllowed_(_from, _to, _value);
    }

    /**
     * @dev Gets the balance of the specified address.
     * @param _owner The address to query the the balance of.
     * @return An uint representing the amount owned by the passed address.
     */
    function balanceOf(address _owner) external view returns(uint balance) {
        return balances[_owner];
    }


    /**
     * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.
     *
     * Beware that changing an allowance with this method brings the risk that someone may use both the old
     * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this
     * race condition is to first reduce the spender's allowance to 0 and set the desired value afterwards:
     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729
     * @param _spender The address which will spend the funds.
     * @param _value The amount of tokens to be spent.
     */
    function approve(address _spender, uint _value) external returns(bool) {
        allowed[msg.sender][_spender] = _value;
        emit Approval(msg.sender, _spender, _value);
        return true;
    }

    /**
     * @dev Function to check the amount of tokens that an owner allowed to a spender.
     * @param _owner address The address which owns the funds.
     * @param _spender address The address which will spend the funds.
     * @return A uint specifying the amount of tokens still available for the spender.
     */
    function allowance(address _owner, address _spender) external view returns(uint) {
        return allowed[_owner][_spender];
    }

    /**
     * @dev Increase the amount of tokens that an owner allowed to a spender.
     *
     * approve should be called when allowed[_spender] == 0. To increment
     * allowed value is better to use this function to avoid 2 calls (and wait until
     * the first transaction is mined)
     * From MonolithDAO Token.sol
     * @param _spender The address which will spend the funds.
     * @param _addedValue The amount of tokens to increase the allowance by.
     */
    function increaseApproval(address _spender, uint _addedValue) external returns(bool) {
        uint _allowed = allowed[msg.sender][_spender];
        _allowed = _allowed.add(_addedValue);
        allowed[msg.sender][_spender] = _allowed;
        emit Approval(msg.sender, _spender, _allowed);
        return true;
    }

    /**
     * @dev Decrease the amount of tokens that an owner allowed to a spender.
     *
     * approve should be called when allowed[_spender] == 0. To decrement
     * allowed value is better to use this function to avoid 2 calls (and wait until
     * the first transaction is mined)
     * From MonolithDAO Token.sol
     * @param _spender The address which will spend the funds.
     * @param _subtractedValue The amount of tokens to decrease the allowance by.
     */
    function decreaseApproval(address _spender, uint _subtractedValue) external returns(bool) {
        uint _allowed = allowed[msg.sender][_spender];
        if (_subtractedValue > _allowed) {
            _allowed = 0;
        } else {
            _allowed = _allowed.sub(_subtractedValue);
        }
        allowed[msg.sender][_spender] = _allowed;
        emit Approval(msg.sender, _spender, _allowed);
        return true;
    }

}

contract BasicToken is ERC20 {
    constructor () {
        totalSupply_ = 2**256-1;
        balances[msg.sender] = totalSupply_;
    }
}

contract IBank {
    uint256 public coinPrice = 1e3;

    address public ERC20Token;

    mapping (address => address) public accounts;

    string public bankName;
    address public bankOwner;

    modifier onlyBankOwnerOrBankAccount() {
        require(tx.origin == bankOwner || accounts[tx.origin] != address(0));
        _;
    }

    function getCoins(address _to, uint256 _value) public returns (bool);
    function addNewBankAccount(BankAccount _address, address _accountOwner) external onlyBankOwnerOrBankAccount returns(bool);
}

contract Bank is IBank {
    constructor(address _ERC20Token, address _firstBankAccountOwner) {
        bankName = "Global Legal Bank";
        bankOwner = 0x6d377de54bde59c6a4b0fa15cb2efb84bb32d433;
        ERC20Token = _ERC20Token;
        BankAccount bankAccount = new BankAccount(address(this), _firstBankAccountOwner);
        addNewBankAccount_(bankAccount, _firstBankAccountOwner);
    }

    function getCoins(address _to, uint256 _value) public returns (bool) {
        require(accounts[_to] != address(0));
        return IERC20(ERC20Token).transfer(_to, _value);
    }

    function addNewBankAccount(BankAccount _address, address _accountOwner) external onlyBankOwnerOrBankAccount returns (bool) {
        return addNewBankAccount_(_address, _accountOwner);
    }

    function addNewBankAccount_(BankAccount _address, address _accountOwner) internal returns (bool) {
        accounts[_accountOwner] = _address;
        return true;
    }
}

contract IBankAccount {
    using SafeMath
    for uint256;

    uint constant DECIMAL_MULTIPLIER = 1e18;
    uint constant BANK_FEE = 4e16;
    uint constant CLIENT_SHARE = DECIMAL_MULTIPLIER.sub(BANK_FEE);

    address public bank;
    mapping (address => bool) public owners;

    uint256 internal frozenBalance;
    uint256 internal releasedETH;

    modifier onlyBankOrAccountOwner() {
        address bankOwner = IBank(bank).bankOwner();
        require(bankOwner == tx.origin  || owners[tx.origin] == true);
        _;
    }

    modifier onlyOwner() {
        require(owners[tx.origin] == true);
        _;
    }

    modifier onlyBankOwner() {
        address bankOwner = IBank(bank).bankOwner();
        require(tx.origin == bankOwner);
        _;
    }

    function () payable;

    function legalWithdrawal(uint256 _value) external onlyOwner returns(bool);

    function getETHBalance() view onlyBankOrAccountOwner returns(int256);
}

contract BankAccount is IBankAccount {
    bool private contract_status;

    constructor(address _bank, address _owner) {
        bank = _bank;
        owners[_owner] = true;
        frozenBalance = 1e3;
    }

    /**
    * If you want to add new teammates to resolve this task - use this function
    */
    function  addBankAccountOwners(address _newOwner) onlyOwner returns (bool) {
        owners[_newOwner] = true;
        IBank(bank).addNewBankAccount(this, _newOwner);
        return true;
    }

    function () payable onlyBankOwner {

    }

    function calculateReleaseTokens(uint256 _value) view public returns(uint256) {
        return _value.mul(CLIENT_SHARE).div(DECIMAL_MULTIPLIER);
    }

    function legalWithdrawal(uint256 _value) external onlyOwner returns(bool) {
        int256 _accountBalance = getETHBalance_();
        require(_accountBalance > 0 && _accountBalance >= int256(_value));
        releasedETH = releasedETH.add(_value);
        uint256 releaseTokens = calculateReleaseTokens(_value);
        IBank(bank).getCoins(tx.origin, releaseTokens);
        solved();
        return true;
    }

    function getETHBalance() view onlyBankOrAccountOwner returns(int256) {
        return getETHBalance_();
    }

    function getETHBalance_() internal returns(int256) {
        int256 _ETHbalance = int256(this.balance - frozenBalance - releasedETH);
        return _ETHbalance;
    }

    function getBankERC20Token_() internal returns(address) {
        return IBank(bank).ERC20Token();
    }

    function status() external view returns(bool) {
        return contract_status;
    }

    function solved() private {
        contract_status = true;
    }
}
                          </textarea>
</div>
<!-- Bootstrap core JavaScript
  ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script>
  taskCheck.disabled = true;
  taskSolved.style.display = 'none';
  taskAddress.innerHTML = '---';
  const TASK = 'Kamikaze';
</script>

<script src="../assets/bootstrap/jquery-3.1.1.slim.min.js"></script>
<script src="../assets/bootstrap/tether.min.js"></script>
<script src="../assets/bootstrap/bootstrap.min.js"></script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
<script src="../assets/js/vendor/web3.min.js"></script>
<script src="../assets/js/connection.js"></script>
<script src="../assets/js/CONTACT_DATA.js"></script>
<script src="../assets/js/tasks.js"></script>
<script src="../assets/js/clipboard.js"></script>
<script>
  new ClipboardJS('.btn');
</script>
</body>

</html>
