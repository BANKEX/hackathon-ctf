<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../../../favicon.ico">

  <title>BKX : CTF</title>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="../assets/bootstrap/boostrap.min.css">
</head>


<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">
      <h1>BKX : CTF</h1>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div style="color: #1e0010; font-weight: 700; font-size: 20px;" class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link" href="#">Tasks:</a>
        <a class="nav-item nav-link" href="tasks1.html">1</a>
        <a class="nav-item nav-link" href="tasks2.html">2</a>
        <a class="nav-item nav-link" href="tasks3.html">3</a>
        <a class="nav-item nav-link" href="tasks4.html">4</a>
        <a class="nav-item nav-link" href="tasks5.html">5</a>
        <a class="nav-item nav-link" href="tasks6.html">6</a>
        <a class="nav-item nav-link" href="tasks7.html">7</a>
        <a class="nav-item nav-link active" href="#">8
          <span class="sr-only">(current)</span>
        </a>
        <a style="color: red;" class="nav-item nav-link" href="help.html">Help</a>
        <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="leaderboard.html">Leaderboard</a>
        <a style="color: black; float: right" class="nav-item nav-link" id="teamName"></a>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <p style="margin-top: 5%; font-size: 69px !important; color: #1e0010; font-weight: 700;">Task 8: "Kamikaze"</p>
        <button type="submit" class="btn btn-success btn-md" style="font-size: 20px;" id="taskDeploy">
          <i class="fa fa-user-plus"></i>Deploy to network</button>
        <button type="submit" class="btn btn-warning btn-md" style="font-size: 20px;" id="taskCheck">
          <i class="fa fa-user-plus"></i>Send solution</button>

        <!-- если уже решено-->

        <button type="submit" class="btn btn-danger disabled btn-md" style="font-size: 20px;" id="taskSolved">
          <i class="fa fa-user-plus"></i>It is already decided</button>
        <blockquote style="font-size: 20px" class="blockquote">
          <br>
          <p style="font-size: 40px">Task source code:</p>
          <p style="font-size: 20px" class="mb-0"></p>
          <div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;">
            <pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">pragma</span> <span style="color: #a6e22e">solidity</span> <span style="color: #f92672">^</span> <span style="color: #ae81ff">0.4</span><span style="color: #f8f8f2">.</span><span style="color: #ae81ff">21</span><span style="color: #f8f8f2">;</span>

<span style="color: #75715e">/*</span>
<span style="color: #75715e">    In the near future there was an opportunity to legalize the ETH. To do this, </span>
<span style="color: #75715e">    you need to send ETH to the account created by the Bank for you. </span>
<span style="color: #75715e">    You will be able to convert ETH to the legal tokens of the Bank. </span>
<span style="color: #75715e">    </span>
<span style="color: #75715e">    Also, the bank can freeze your account or freeze some of the funds on your account. </span>
<span style="color: #75715e">    If the bank freezes your some amount of ETH and your balance becomes negative - you will be permanently blocked.</span>

<span style="color: #75715e">    Now you have blocked account. If you want to win - unblock your account (call legalWithdrawal function).</span>
<span style="color: #75715e">*/</span>

<span style="color: #75715e">/**</span>
<span style="color: #75715e"> * @title SafeMath</span>
<span style="color: #75715e"> * @dev Math operations with safety checks that throw on error</span>
<span style="color: #75715e"> */</span>
<span style="color: #a6e22e">library</span> <span style="color: #a6e22e">SafeMath</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">mul</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">a</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #66d9ef">return</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">c</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">*</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">assert</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">c</span> <span style="color: #f92672">/</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">c</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Integer division of two numbers, truncating the quotient.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">div</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #75715e">// assert(b &gt; 0); // Solidity automatically throws when dividing by 0</span>
        <span style="color: #75715e">// uint256 c = a / b;</span>
        <span style="color: #75715e">// assert(a == b * c + a % b); // There is no case in which this doesn&#39;t hold</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">/</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Subtracts two numbers, throws on overflow (i.e. if subtrahend is greater than minuend).</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">assert</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">b</span> <span style="color: #f92672">&lt;=</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">-</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Adds two numbers, throws on overflow.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">pure</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">c</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">b</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">assert</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">c</span> <span style="color: #f92672">&gt;=</span> <span style="color: #a6e22e">a</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">c</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #75715e">/**</span>
<span style="color: #75715e"> * @title ERC20 interface</span>
<span style="color: #75715e"> * @dev see https://github.com/ethereum/EIPs/issues/20</span>
<span style="color: #75715e"> */</span>
<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">IERC20</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">allowance</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">spender</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transferFrom</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">approve</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">totalSupply</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">balanceOf</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">who</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #a6e22e">event</span> <span style="color: #a6e22e">Transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #a6e22e">event</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">indexed</span> <span style="color: #a6e22e">spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #75715e">/**</span>
<span style="color: #75715e"> * @title Standard ERC20 token</span>
<span style="color: #75715e"> *</span>
<span style="color: #75715e"> * @dev Implementation of the basic standard token.</span>
<span style="color: #75715e"> * @dev https://github.com/ethereum/EIPs/issues/20</span>
<span style="color: #75715e"> * @dev Based on code by FirstBlood: https://github.com/Firstbloodio/token/blob/master/smart_contract/FirstBloodToken.sol</span>
<span style="color: #75715e"> */</span>
<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">ERC20</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">IERC20</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">using</span> <span style="color: #a6e22e">SafeMath</span>
    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">))</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">totalSupply_</span><span style="color: #f8f8f2">;</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev total number of tokens in existence</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">totalSupply</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">totalSupply_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Transfer tokens from one address to another</span>
<span style="color: #75715e">     * @param _from address The address which you want to send tokens from</span>
<span style="color: #75715e">     * @param _to address The address which you want to transfer to</span>
<span style="color: #75715e">     * @param _value The amount of tokens to be transferred</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transfer_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_bfrom</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_bto</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_to</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">));</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span> <span style="color: #f92672">&lt;=</span> <span style="color: #a6e22e">_bfrom</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_bfrom</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_bto</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>


    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Transfer tokens from one address to another, decreasing allowance</span>
<span style="color: #75715e">     * @param _from address The address which you want to send tokens from</span>
<span style="color: #75715e">     * @param _to address The address which you want to transfer to</span>
<span style="color: #75715e">     * @param _value The amount of tokens to be transferred</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transferAllowed_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span> <span style="color: #f92672">&lt;=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">transfer_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev transfer token for a specified address</span>
<span style="color: #75715e">     * @param _to The address to transfer to.</span>
<span style="color: #75715e">     * @param _value The amount to be transferred.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transfer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">transfer_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Transfer tokens from one address to another</span>
<span style="color: #75715e">     * @param _from address The address which you want to send tokens from</span>
<span style="color: #75715e">     * @param _to address The address which you want to transfer to</span>
<span style="color: #75715e">     * @param _value uint the amount of tokens to be transferred</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">transferFrom</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">transferAllowed_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_from</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Gets the balance of the specified address.</span>
<span style="color: #75715e">     * @param _owner The address to query the the balance of.</span>
<span style="color: #75715e">     * @return An uint representing the amount owned by the passed address.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">balanceOf</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">balance</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">];</span>
    <span style="color: #f8f8f2">}</span>


    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Approve the passed address to spend the specified amount of tokens on behalf of msg.sender.</span>
<span style="color: #75715e">     *</span>
<span style="color: #75715e">     * Beware that changing an allowance with this method brings the risk that someone may use both the old</span>
<span style="color: #75715e">     * and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this</span>
<span style="color: #75715e">     * race condition is to first reduce the spender&#39;s allowance to 0 and set the desired value afterwards:</span>
<span style="color: #75715e">     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729</span>
<span style="color: #75715e">     * @param _spender The address which will spend the funds.</span>
<span style="color: #75715e">     * @param _value The amount of tokens to be spent.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">approve</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Function to check the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #75715e">     * @param _owner address The address which owns the funds.</span>
<span style="color: #75715e">     * @param _spender address The address which will spend the funds.</span>
<span style="color: #75715e">     * @return A uint specifying the amount of tokens still available for the spender.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">allowance</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">];</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Increase the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #75715e">     *</span>
<span style="color: #75715e">     * approve should be called when allowed[_spender] == 0. To increment</span>
<span style="color: #75715e">     * allowed value is better to use this function to avoid 2 calls (and wait until</span>
<span style="color: #75715e">     * the first transaction is mined)</span>
<span style="color: #75715e">     * From MonolithDAO Token.sol</span>
<span style="color: #75715e">     * @param _spender The address which will spend the funds.</span>
<span style="color: #75715e">     * @param _addedValue The amount of tokens to increase the allowance by.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">increaseApproval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_addedValue</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">];</span>
        <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_addedValue</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #75715e">/**</span>
<span style="color: #75715e">     * @dev Decrease the amount of tokens that an owner allowed to a spender.</span>
<span style="color: #75715e">     *</span>
<span style="color: #75715e">     * approve should be called when allowed[_spender] == 0. To decrement</span>
<span style="color: #75715e">     * allowed value is better to use this function to avoid 2 calls (and wait until</span>
<span style="color: #75715e">     * the first transaction is mined)</span>
<span style="color: #75715e">     * From MonolithDAO Token.sol</span>
<span style="color: #75715e">     * @param _spender The address which will spend the funds.</span>
<span style="color: #75715e">     * @param _subtractedValue The amount of tokens to decrease the allowance by.</span>
<span style="color: #75715e">     */</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">decreaseApproval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_subtractedValue</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">];</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_subtractedValue</span> <span style="color: #f92672">&gt;</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span> <span style="color: #66d9ef">else</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #a6e22e">_allowed</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_subtractedValue</span><span style="color: #f8f8f2">);</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #a6e22e">allowed</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">][</span><span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">emit</span> <span style="color: #a6e22e">Approval</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_spender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_allowed</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">BasicToken</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">ERC20</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">constructor</span> <span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">totalSupply_</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">2</span><span style="color: #f92672">**</span><span style="color: #ae81ff">256</span><span style="color: #f92672">-</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">balances</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">totalSupply_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">IBank</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">uint256</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">coinPrice</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #a6e22e">e3</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">ERC20Token</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">mapping</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">string</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">bankName</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyBankOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
    
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getCoins</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">addNewBankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyBankOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">Bank</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">IBank</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">constructor</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_ERC20Token</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_firstBankAccountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">bankName</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;Global Legal Bank&quot;</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0x6d377de54bde59c6a4b0fa15cb2efb84bb32d433</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">ERC20Token</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_ERC20Token</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">bankAccount</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">new</span> <span style="color: #a6e22e">BankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">this</span><span style="color: #f8f8f2">),</span> <span style="color: #a6e22e">_firstBankAccountOwner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">addNewBankAccount_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bankAccount</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_firstBankAccountOwner</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>
    
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getCoins</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">!=</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">));</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">IERC20</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">ERC20Token</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">transferFrom</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_to</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>
    
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">addNewBankAccount</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyBankOwner</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">addNewBankAccount_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">addNewBankAccount_</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">accounts</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">_accountOwner</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_address</span><span style="color: #f8f8f2">;</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">IBankAccount</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">using</span> <span style="color: #a6e22e">SafeMath</span>
    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">DECIMAL_MULTIPLIER</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #a6e22e">e18</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">BANK_FEE</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4</span><span style="color: #a6e22e">e16</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">CLIENT_SHARE</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">DECIMAL_MULTIPLIER</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">BANK_FEE</span><span style="color: #f8f8f2">);</span>

    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">frozenBalance</span><span style="color: #f8f8f2">;</span>
    <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">releasedETH</span><span style="color: #f8f8f2">;</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyBankOrAccountOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">bank</span> <span style="color: #f92672">||</span> <span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
    
    <span style="color: #a6e22e">modifier</span> <span style="color: #a6e22e">onlyBankOwner</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">bankOwner</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">bankOwner</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">payable</span><span style="color: #f8f8f2">;</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">legalWithdrawal</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">);</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getETHBalance</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">onlyBankOrAccountOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">BankAccount</span> <span style="color: #a6e22e">is</span> <span style="color: #a6e22e">IBankAccount</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">bool</span> <span style="color: #66d9ef">private</span> <span style="color: #a6e22e">contract_status</span><span style="color: #f8f8f2">;</span>
    
    <span style="color: #a6e22e">constructor</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_bank</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">bank</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_bank</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">owner</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_owner</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">frozenBalance</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">1</span><span style="color: #a6e22e">e3</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">payable</span> <span style="color: #a6e22e">onlyBankOwner</span> <span style="color: #f8f8f2">{</span>
        
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">calculateReleaseTokens</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">view</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">mul</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">CLIENT_SHARE</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">div</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">DECIMAL_MULTIPLIER</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">legalWithdrawal</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">onlyOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">int256</span> <span style="color: #a6e22e">_accountBalance</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">getETHBalance_</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_accountBalance</span> <span style="color: #f92672">&gt;</span> <span style="color: #ae81ff">0</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #a6e22e">_accountBalance</span> <span style="color: #f92672">&gt;=</span> <span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">));</span>
        <span style="color: #a6e22e">releasedETH</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">releasedETH</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">releaseTokens</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">calculateReleaseTokens</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_value</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">getCoins</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">releaseTokens</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">solved</span><span style="color: #f8f8f2">();</span>
        <span style="color: #66d9ef">return</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getETHBalance</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">onlyBankOrAccountOwner</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">getETHBalance_</span><span style="color: #f8f8f2">();</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getETHBalance_</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">int256</span> <span style="color: #a6e22e">_ETHbalance</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">int256</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">this</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">balance</span> <span style="color: #f92672">-</span> <span style="color: #a6e22e">frozenBalance</span> <span style="color: #f92672">-</span> <span style="color: #a6e22e">releasedETH</span><span style="color: #f8f8f2">);</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">_ETHbalance</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getBankERC20Token_</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">internal</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">IBank</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bank</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">ERC20Token</span><span style="color: #f8f8f2">();</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">status</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">contract_status</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span> 

    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">solved</span><span style="color: #f8f8f2">()</span> <span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">contract_status</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
    <span style="color: #f8f8f2">}</span>
<span style="color: #f8f8f2">}</span>
</pre>
          </div>

          </p>
          <footer style="font-size: 40px " class="blockquote-footer">Your smart contract is at
            <cite style="font-weight: 900; color: #1e0010" title="Source Title" id="taskAddress">0ceqiccnoijwncoiwncoiwncb</cite> on
            <strong style="font-weight: 900; color: #1e0010">Rinkeby</strong> network
          </footer>
        </blockquote>
      </div>
    </div>
    <div class="col-12 text-center" style="margin-top: 10%; margin-bottom: 5%">
      <img src="../assets/img/logo.png" alt="POS" class="responsive" style="max-width: 550px; max-height: 550px;">
    </div>


  </div>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script>
    taskCheck.disabled = true;
    taskSolved.style.display = 'none';
    taskAddress.innerHTML = '---';
    const TASK = 'Kamikaze';
  </script>
  <script src="../assets/bootstrap/jquery-3.1.1.slim.min.js"></script>
  <script src="../assets/bootstrap/tether.min.js"></script>
  <script src="../assets/bootstrap/bootstrap.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <script src="../assets/js/vendor/web3.min.js"></script>
  <script src="../assets/js/connection.js"></script>
  <script src="../assets/js/CONTACT_DATA.js"></script>
  <script src="../assets/js/tasks.js"></script>
</body>

</html>