<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../../../favicon.ico">

  <title>BKX : CTF</title>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="../assets/bootstrap/boostrap.min.css">
</head>


<body>
  <header class="github__header" style="
          padding-top: 12px;
          padding-bottom: 12px;
          color: rgba(255,255,255,0.75);
          background-color: #202327;
          font-family: 'Gotham Pro';
          box-sizing: inherit;
          -webkit-font-smoothing: antialiased;
          font-size: 1.23em;
          text-align: center;">
    <a class="github__link" href="https://github.com/BANKEX/hackathon-ctf" style="color: inherit; cursor: pointer;text-decoration: none;">
      <img src="https://plasma.bankex.com/assets/img/GitHub-Mark-Light-64px.png" style="width: 1.75em" alt="">
      <span>GitHub, <b style="font-weight: 700;line-height: inherit;">Contribute!</b></span>
    </a>
  </header>
  <!--<a href="https://github.com/BANKEX/hackathon-ctf"><img style="position: absolute; top: 0; right: 0; border: 0; width: 149px; height: 149px; z-index: 99999" src="http://aral.github.com/fork-me-on-github-retina-ribbons/right-graphite@2x.png" alt="Fork me on GitHub"></a>-->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">
      <h1>BKX : CTF</h1>
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div style="color: #1e0010; font-weight: 700; font-size: 20px;" class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link" href="#">Tasks:</a>
        <a class="nav-item nav-link" href="tasks1.html">1</a>
        <a class="nav-item nav-link" href="tasks2.html">2</a>
        <a class="nav-item nav-link" href="tasks3.html">3</a>
        <a class="nav-item nav-link" href="tasks4.html">4</a>
        <a class="nav-item nav-link" href="tasks5.html">5</a>
        <a class="nav-item nav-link" href="tasks6.html">6</a>
        <a class="nav-item nav-link" href="tasks7.html">7</a>
        <a class="nav-item nav-link" href="tasks8.html">8</a>
        <a class="nav-item nav-link" href="tasks9.html">9</a>
        <a class="nav-item nav-link active" href="#">10
                <span class="sr-only">(current)</span>
              </a>
        <a style="color: red;" class="nav-item nav-link" href="help.html">Help</a>
        <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="leaderboard.html">Leaderboard</a>
        <a style="color: rgb(28,168,252);" class="nav-item nav-link" href="prize.html">WINNERS</a>
        <a style="color: black; float: right" class="nav-item nav-link" id="teamName"></a>
      </div>
    </div>
  </nav>

  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <p style="margin-top: 5%; font-size: 69px !important; color: #1e0010; font-weight: 700;">Task 10: "DoubleTapVote"</p>
        <button type="submit" class="btn btn-success btn-md" style="font-size: 20px;" id="taskDeploy">
          <i class="fa fa-user-plus"></i>Deploy to network</button>
        <button type="submit" class="btn btn-warning btn-md" style="font-size: 20px;" id="taskCheck">
          <i class="fa fa-user-plus"></i>Send solution</button>

        <!-- если уже решено-->

        <button type="submit" class="btn btn-danger disabled btn-md" style="font-size: 20px;" id="taskSolved">
          <i class="fa fa-user-plus"></i>Solved</button>
        <blockquote style="font-size: 20px" class="blockquote">
          <footer style="font-size: 40px " class="blockquote-footer">Your smart contract is at
            <cite style="font-weight: 900; color: #1e0010" title="Source Title" id="taskAddress">0ceqiccnoijwncoiwncoiwncb</cite> on
            <strong style="font-weight: 900; color: #1e0010">Rinkeby</strong> network
          </footer>
        </blockquote>
        <br>
        <p style="font-size: 40px">Task source code:</p>
        <p style="font-size: 20px" class="mb-0"></p>
<!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #a6e22e">pragma</span> <span style="color: #a6e22e">solidity</span> <span style="color: #f92672">^</span><span style="color: #ae81ff">0.4</span><span style="color: #f8f8f2">.</span><span style="color: #ae81ff">24</span><span style="color: #f8f8f2">;</span>

<span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">LibraryControllerInterface</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getVer</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">);</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">DoubleTapVote</span> <span style="color: #f8f8f2">{</span>

      <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">]</span> <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">bool</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">finalResult</span><span style="color: #f8f8f2">;</span>

      <span style="color: #66d9ef">int</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">checker</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">uint</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">counter</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">mainCenter</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">currentVer</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">bytes4</span> <span style="color: #a6e22e">constant</span> <span style="color: #a6e22e">sig</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">bytes4</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">sha3</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;calc()&quot;</span><span style="color: #f8f8f2">));</span>

      <span style="color: #a6e22e">bool</span> <span style="color: #66d9ef">private</span> <span style="color: #a6e22e">contract_status</span><span style="color: #f8f8f2">;</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">status</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">contract_status</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">solved</span><span style="color: #f8f8f2">()</span> <span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">contract_status</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #a6e22e">constructor</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_center</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">mainCenter</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_center</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">initVotes</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">counter</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">checker</span> <span style="color: #f92672">=</span> <span style="color: #f92672">-</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getControllerAddr</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">mainCenter</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getLibAddr</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">currentVer</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getAddressOfLib</span><span style="color: #f8f8f2">()</span> <span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">LibraryControllerInterface</span> <span style="color: #a6e22e">instance</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">LibraryControllerInterface</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">mainCenter</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">currentVer</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">instance</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">getVer</span><span style="color: #f8f8f2">();</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getFinalRes</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">getAddressOfLib</span><span style="color: #f8f8f2">();</span>
        <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">callee</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">currentVer</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">bytes4</span> <span style="color: #a6e22e">funcSignature</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">sig</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">assembly</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">let</span> <span style="color: #a6e22e">memoryPointer</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">mload</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0x40</span><span style="color: #f8f8f2">)</span>
        <span style="color: #a6e22e">mstore</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">memoryPointer</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">funcSignature</span><span style="color: #f8f8f2">)</span>
        <span style="color: #66d9ef">let</span> <span style="color: #a6e22e">newFreeMemoryPointer</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">add</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">memoryPointer</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0x20</span><span style="color: #f8f8f2">)</span>
        <span style="color: #a6e22e">mstore</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0x40</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">newFreeMemoryPointer</span><span style="color: #f8f8f2">)</span>
        <span style="color: #66d9ef">let</span> <span style="color: #a6e22e">retVal</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">delegatecall</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">sub</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">gas</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">700</span><span style="color: #f8f8f2">),</span> <span style="color: #a6e22e">callee</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">memoryPointer</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0x04</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">newFreeMemoryPointer</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0x20</span><span style="color: #f8f8f2">)</span>
        <span style="color: #66d9ef">let</span> <span style="color: #a6e22e">retDataSize</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">returndatasize</span>
        <span style="color: #a6e22e">returndatacopy</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">newFreeMemoryPointer</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">retDataSize</span><span style="color: #f8f8f2">)</span>
        <span style="color: #66d9ef">switch</span> <span style="color: #a6e22e">retVal</span> <span style="color: #66d9ef">case</span> <span style="color: #ae81ff">0</span> <span style="color: #f8f8f2">{</span><span style="color: #a6e22e">revert</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)}</span> <span style="color: #66d9ef">default</span> <span style="color: #f8f8f2">{}</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #75715e">// currentVer.delegatecall(sig);</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">checker</span> <span style="color: #f92672">==</span> <span style="color: #ae81ff">0</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #a6e22e">finalResult</span> <span style="color: #f92672">==</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">solved</span><span style="color: #f8f8f2">();</span>
        <span style="color: #f8f8f2">}</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">initVotes</span><span style="color: #f8f8f2">()</span> <span style="color: #66d9ef">private</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0x19c3ee4435342b8e6fe3e18d6d1d0ec762baffaa</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0x19c3ee4435342b8e6fe3e18d6d1d0ec762bafdaa</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0x594fea497b8adbfebfa2352cb12c6fee0de12329</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0x594fea497b8adbfebfa2352cb12c6fee0de12929</span><span style="color: #f8f8f2">;</span>

        <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">]]</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">]]</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">2</span><span style="color: #f8f8f2">]]</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">3</span><span style="color: #f8f8f2">]]</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">vote</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span> <span style="color: #a6e22e">_res</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">external</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">uint</span> <span style="color: #a6e22e">limit</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">counter</span> <span style="color: #f92672">&lt;</span> <span style="color: #a6e22e">limit</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">counter</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_res</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">counter</span> <span style="color: #f92672">++</span><span style="color: #f8f8f2">;</span>

        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">_res</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">checker</span> <span style="color: #f92672">+=</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
        <span style="color: #66d9ef">else</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">checker</span> <span style="color: #f92672">-=</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
      <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">}</span>

    <span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">LibraryController</span> <span style="color: #f8f8f2">{</span>

      <span style="color: #a6e22e">address</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">owner</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">curVer</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">ver</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">constructor</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_ver</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">ver</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">curVer</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">ver</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_ver</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">Center</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">payable</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">owner</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">changeOwner</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">string</span> <span style="color: #a6e22e">pincode</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_newOwner</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">bytes32</span> <span style="color: #a6e22e">solution</span> <span style="color: #f92672">=</span> <span style="color: #ae81ff">0xd677db56750b9e5fdf025f148fd0b2a662d7637766ec92f9fcb25f92e5f64889</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">bytes32</span> <span style="color: #a6e22e">compute</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">sha3</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">pincode</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">compute</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">solution</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">owner</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_newOwner</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">setVer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">uint256</span> <span style="color: #a6e22e">_ver</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span> <span style="color: #a6e22e">_veraddr</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">require</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">owner</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">msg</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sender</span><span style="color: #f8f8f2">);</span>
        <span style="color: #a6e22e">ver</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_ver</span><span style="color: #f8f8f2">;</span>
        <span style="color: #a6e22e">curVer</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">ver</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">_veraddr</span><span style="color: #f8f8f2">;</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">getVer</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">external</span> <span style="color: #a6e22e">view</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">curVer</span><span style="color: #f8f8f2">[</span><span style="color: #a6e22e">ver</span><span style="color: #f8f8f2">];</span>
      <span style="color: #f8f8f2">}</span>

    <span style="color: #f8f8f2">}</span>

    <span style="color: #a6e22e">contract</span> <span style="color: #a6e22e">LibraryVersionOne</span> <span style="color: #f8f8f2">{</span>

      <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">[</span><span style="color: #ae81ff">4</span><span style="color: #f8f8f2">]</span> <span style="color: #a6e22e">voters</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">mapping</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #f92672">=&gt;</span> <span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">resOfVoter</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">bool</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">finalResult</span><span style="color: #f8f8f2">;</span>

      <span style="color: #66d9ef">int</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">checker</span><span style="color: #f8f8f2">;</span>

      <span style="color: #a6e22e">uint</span> <span style="color: #66d9ef">public</span> <span style="color: #a6e22e">counter</span><span style="color: #f8f8f2">;</span>

      <span style="color: #66d9ef">function</span> <span style="color: #a6e22e">calc</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">returns</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">bool</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">checker</span> <span style="color: #f92672">&gt;</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
        <span style="color: #a6e22e">finalResult</span> <span style="color: #f92672">=</span> <span style="color: #66d9ef">true</span><span style="color: #f8f8f2">;</span>
        <span style="color: #f8f8f2">}</span>
      <span style="color: #f8f8f2">}</span>

      <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">payable</span> <span style="color: #f8f8f2">{}</span>

    <span style="color: #f8f8f2">}</span>
    </pre></div>

      </div>
    </div>
    <div class="col-12 text-center" style="margin-top: 10%; margin-bottom: 5%">
      <img src="../assets/img/logo.png" alt="POS" class="responsive" style="max-width: 550px; max-height: 550px;">
    </div>


  </div>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script>
    taskCheck.disabled = true;
    taskSolved.style.display = 'none';
    taskAddress.innerHTML = '---';
    const TASK = 'DoubleTapVote';
  </script>
  <script src="../assets/bootstrap/jquery-3.1.1.slim.min.js"></script>
  <script src="../assets/bootstrap/tether.min.js"></script>
  <script src="../assets/bootstrap/bootstrap.min.js"></script>
  <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  <script src="../assets/js/vendor/web3.min.js"></script>
  <script src="../assets/js/connection.js"></script>
  <script src="../assets/js/CONTACT_DATA.js"></script>
  <script src="../assets/js/tasks.js"></script>
</body>

</html>
